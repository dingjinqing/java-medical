<template>
  <div>
    <!-- <div class="title">
      <div class="fl">
        <img
          class="shop_defu"
          style="width: 44px;border: 1px solid #fff;"
          src="http://mpdevimg2.weipubao.cn/upload/0/image/20190710/crop_wTyAKWD7fyizqfv9.jpeg"
          alt=""
        >
        <img
          class="shop_type"
          src="http://mpdevimg2.weipubao.cn/image/admin/img_home/type_open.png"
          alt=""
        >
      </div>
      <span>微铺宝电商运营</span>
      <span class="">
        <span>旗舰版</span>
        <img
          src=""
          alt=""
        >
      </span>
    </div> -->
    <div class="main-container">
      <div class="over-left">
        <div class="left-agency">
          <div class="left-title">
            待办事项
            <span class="custom_title">自定义</span>
            <div class="one_piece">
              <span>🇱 ⁶⁶⁶已关注公众号，可实时接收消息通知</span>
              <a
                href="javascript:void(0);"
                class="bind_action"
              >解除绑定</a>
            </div>
          </div>
          <div class="left-order-content">
            <div class="new_order">
              <a href="javascript:void(0);">
                <div class="order_top">3328</div>
                <p>待发货订单</p>
              </a>
            </div>
            <div class="new_order">
              <a href="javascript:void(0);">
                <div class="order_top">3328</div>
                <p>待发货订单</p>
              </a>
            </div>
            <div class="new_order">
              <a href="javascript:void(0);">
                <div class="order_top">3328</div>
                <p>待发货订单</p>
              </a>
            </div>
            <div class="new_order">
              <a href="javascript:void(0);">
                <div class="order_top">3328</div>
                <p>待发货订单</p>
              </a>
            </div>
            <div class="new_order">
              <a href="javascript:void(0);">
                <div class="order_top">3328</div>
                <p>待发货订单</p>
              </a>
            </div>
          </div>
        </div>
        <div class="left-data">
          <div
            class="left-title clearfix"
            style="margin-bottom: 10px"
          >
            <span>数据展示</span>
            <i class="item-image">
              <img
                src="http://mpdevimg2.weipubao.cn/image/admin/analysis_tishi.png"
                alt=""
                width="14"
                height="14"
                style="vertical-align: middle;margin-bottom: 2px;"
              >
            </i>
            <el-select>
              <el-option>111</el-option>
              <el-option>222</el-option>
              <el-option>333</el-option>
            </el-select>
          </div>
          <div class="left-data-content">
            <div class="left-datas">
              <div class="single-data">
                <h4>访问人数</h4>
                <h3>35</h3>
              </div>
              <div class="single-data">
                <h4>访问人数</h4>
                <h3>35</h3>
              </div>
              <div class="single-data">
                <h4>访问人数</h4>
                <h3>35</h3>
              </div>
              <div class="single-data">
                <h4>访问人数</h4>
                <h3>35</h3>
              </div>
              <div class="single-data">
                <h4>访问人数</h4>
                <h3>35</h3>
              </div>
              <div class="single-data">
                <h4>访问人数</h4>
                <h3>35</h3>
              </div>
            </div>
            <div class="right-datas">
              <div class="data-img clearfix">
                <div class="fw-app">
                  <div class="data-title">访问-支付宝转化率</div>
                  <div class="data-text">11.34%</div>
                </div>
                <div class="fw-xd">
                  <div class="data-title">访问-支付宝转化率</div>
                  <div class="data-text">11.34%</div>
                </div>
                <div class="xd-app">
                  <div class="data-title">访问-支付宝转化率</div>
                  <div class="data-text">11.34%</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="left-function">
          <div class="left-title">功能推荐</div>
          <div class="function-content">
            <a
              href="javascript:void(0);"
              class="single-func"
            >
              <img
                src="http://mpdevimg2.weipubao.cn/image/admin/new_ov/drpt.png"
                alt=""
              >
              <span>多人拼团</span>
            </a>
            <a
              href="javascript:void(0);"
              class="single-func"
            >
              <img
                src="http://mpdevimg2.weipubao.cn/image/admin/new_ov/drpt.png"
                alt=""
              >
              <span style="position: relative">
                分销
                <img
                  style="position: absolute;left: 40px"
                  src="http://mpdevimg2.weipubao.cn/image/admin/new_ov/Hot.png"
                  alt=""
                >
              </span>
            </a>
            <a
              href="javascript:void(0);"
              class="single-func"
            >
              <img
                src="http://mpdevimg2.weipubao.cn/image/admin/new_ov/drpt.png"
                alt=""
              >
              <span>多人拼团</span>
            </a>
            <a
              href="javascript:void(0);"
              class="single-func"
            >
              <img
                src="http://mpdevimg2.weipubao.cn/image/admin/new_ov/drpt.png"
                alt=""
              >
              <span>多人拼团</span>
            </a>
            <a
              href="javascript:void(0);"
              class="single-func"
            >
              <img
                src="http://mpdevimg2.weipubao.cn/image/admin/new_ov/drpt.png"
                alt=""
              >
              <span>多人拼团</span>
            </a>
            <a
              href="javascript:void(0);"
              class="single-func"
            >
              <img
                src="http://mpdevimg2.weipubao.cn/image/admin/new_ov/drpt.png"
                alt=""
              >
              <span>多人拼团</span>
            </a>
            <a
              href="javascript:void(0);"
              class="single-func"
            >
              <img
                src="http://mpdevimg2.weipubao.cn/image/admin/new_ov/drpt.png"
                alt=""
              >
              <span>多人拼团</span>
            </a>
            <a
              href="javascript:void(0);"
              class="single-func"
            >
              <img
                src="http://mpdevimg2.weipubao.cn/image/admin/new_ov/drpt.png"
                alt=""
              >
              <span>多人拼团</span>
            </a>
          </div>
        </div>
        <div class="left-store">
          <div class="left-title">店铺助手</div>
          <div class="task_content clearfix">
            <div class="task_left">
              <div class="progress_content">
                <div class="progress_wrapper"></div>
                <svg class="progress-inner">
                  <circle
                    cx="70"
                    cy="70"
                    style="stroke: rgb(214, 231, 255); stroke-width: 20; stroke-dasharray: 380; stroke-dashoffset: 149px; transition: stroke-dashoffset 0.4s cubic-bezier(0.08, 0.82, 0.17, 1) 0s;"
                  ></circle>
                </svg>
                <div class="progress-info">
                  <div class="status-text">
                    <p><span class="status-text_count">9</span>项</p>
                    <p>待处理</p>
                  </div>
                </div>
              </div>
              <button class="task_test_btn">刷新</button>
            </div>
            <div class="task_right">
              <div class="task_type clearfix">
                <ul class="type_ul clearfix">
                  <li>全部</li>
                  <li>全部</li>
                  <li>全部</li>
                  <li>全部</li>
                </ul>
              </div>
              <div class="task_list_content">
                <div class="task_list">
                  <div class="task_list_item">
                    <span class="tips ff4444">提醒</span>
                    <span class="task_list_desc">“专享商品”会员卡有1个会员卡激活申请超过2天未处理</span>
                    <a href="javascript:void(0);">前往</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="over-right">
        <div class="right-notice">
          <div class="right-title">
            <span>公告</span>
            <a
              href="javascript:void(0);"
              class="gengduo"
            >更多
              <img
                src="http://mpdevimg2.weipubao.cn/image/admin/new_ov/go.png"
                alt=""
              >
            </a>
          </div>
          <div class="one-zx">
            <div class="single-zx">
              <span class="circle"></span>
              <a href="javascript:void(0);">V1.29.0版本更新清单</a>
              <span class="zx-time">09-06</span>
            </div>
          </div>
        </div>
        <div class="right-calendar">
          <div class="right-title">
            <span>营销日历</span>
            <a href="javascript:void(0);">
              <img
                src="http://mpdevimg2.weipubao.cn/image/admin/new_ov/calendar_icon.png"
                alt=""
              >
            </a>
          </div>
          <div class="calendar_line"></div>
          <div class="flex_calendar_box">
            <a href="javascript:void(0);">
              <p class="data">10-24</p>
              <p class="act_name">叶已纷黄，霜降已至</p>
              <p class="remaining_time">剩<span>0</span>天</p>
              <div class="dot"></div>
            </a>
            <a href="javascript:void(0);">
              <p class="data">10-24</p>
              <p class="act_name">叶已纷黄，霜降已至</p>
              <p class="remaining_time">剩<span>0</span>天</p>
              <div class="dot"></div>
            </a>
          </div>
        </div>
        <div class="right-carousel">
          <el-carousel
            height="200px"
            arrow="never"
          >
            <el-carousel-item style="height: 100%; width: 100%;">
              <img
                style="height: 100%; width: 100%;"
                src="http://mpdevimg2.weipubao.cn/image/admin/overview_banner/banner1.jpg"
                alt=""
              >
            </el-carousel-item>
            <el-carousel-item style="height: 100%; width: 100%;">
              <img
                style="height: 100%; width: 100%;"
                src="http://mpdevimg2.weipubao.cn/image/admin/overview_banner/banner2.jpg"
                alt=""
              >
            </el-carousel-item>
            <el-carousel-item style="height: 100%; width: 100%;">
              <img
                style="height: 100%; width: 100%;"
                src="http://mpdevimg2.weipubao.cn/image/admin/overview_banner/banner3.jpg"
                alt=""
              >
            </el-carousel-item>
          </el-carousel>
        </div>
        <div class="right-serve">
          <div class="right-title">更多服务</div>
          <div class="two-zx">
            <a
              href="javascript:void(0);"
              class="single-icon"
            >
              <div class="icon-img">
                <img
                  src="http://mpdevimg2.weipubao.cn/image/admin/new_ov/wangdian.png"
                  alt=""
                >
              </div>
              <div class="icon-name">旺店通ERP</div>
            </a>
            <a
              href="javascript:void(0);"
              class="single-icon"
            >
              <div class="icon-img">
                <img
                  src="http://mpdevimg2.weipubao.cn/image/admin/new_ov/wangdian.png"
                  alt=""
                >
              </div>
              <div class="icon-name">旺店通ERP</div>
            </a>
            <a
              href="javascript:void(0);"
              class="single-icon"
            >
              <div class="icon-img">
                <img
                  src="http://mpdevimg2.weipubao.cn/image/admin/new_ov/wangdian.png"
                  alt=""
                >
              </div>
              <div class="icon-name">旺店通ERP</div>
            </a>
            <a
              href="javascript:void(0);"
              class="single-icon"
            >
              <div class="icon-img">
                <img
                  src="http://mpdevimg2.weipubao.cn/image/admin/new_ov/wangdian.png"
                  alt=""
                >
              </div>
              <div class="icon-name">旺店通ERP</div>
            </a>
            <a
              href="javascript:void(0);"
              class="single-icon"
            >
              <div class="icon-img">
                <img
                  src="http://mpdevimg2.weipubao.cn/image/admin/new_ov/wangdian.png"
                  alt=""
                >
              </div>
              <div class="icon-name">旺店通ERP</div>
            </a>
            <a
              href="javascript:void(0);"
              class="single-icon"
            >
              <div class="icon-img">
                <img
                  src="http://mpdevimg2.weipubao.cn/image/admin/new_ov/wangdian.png"
                  alt=""
                >
              </div>
              <div class="icon-name">旺店通ERP</div>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

</template>
<script>
import { getbindUnBindStatus, getOfficialQrCode, checkGoodThingRequest } from '@/api/admin/firstWebManage/shopView/overview.js'
export default {
  name: 'overview',
  data () {
    return {
      nickName: null,
      isBind: 0,
      officialOpenId: null,
      act: null,
      imgsrc: null,
      centerDialogVisible: false
    }
  },
  mounted () {
    // 初始化数据
    this.defaluteData()
    // 初始化语言
    this.langDefault()
  },
  methods: {
    defaluteData () {
      getbindUnBindStatus().then((res) => {
        if (res.error === 0) {
          this.isBind = res.content.isBind
          this.nickName = res.content.nickName
          this.officialOpenId = res.content.officialOpenId
          if (this.isBind !== 0) {
            this.act = 'del_bind'
          } else if (this.officialOpenId !== null) {
            this.act = 'bind'
          } else {
            this.act = null
          }
          console.log(res)
        }
        console.log(res)
      })
    },
    handleSubmit () {
      if (this.act === null) {
        getOfficialQrCode().then((res) => {
          console.log(res)
          if (res.error === 0) {
            this.imgsrc = res.content
            this.centerDialogVisible = true
          } else {
            this.$message.error(res.message)
          }
        })
      } else {
        let data2 = {
          act: this.act
        }
        checkGoodThingRequest(data2).then((res) => {
          console.log(res)
          if (res.error === 0) {
          } else {
            this.$message.error(res.message)
          }
          this.defaluteData()
        })
      }
    }
  }
}
</script>
<style lang="scss">
.title {
  background: #f5f5f5 !important;
  position: relative;

  width: 100%;
  height: 55px;
  line-height: 55px;
  padding-left: 25px;
  font-size: 16px;
  color: #333;
  background: #fff;
  padding-right: 25px;
}

.fl {
  float: left;
  position: relative;
  margin-top: 5px;
  cursor: pointer;
}

img {
  // vertical-align: middle;
}

.shop_defu {
  border-radius: 100%;
}

.shop_type {
  position: absolute;
  right: 0;
  bottom: 0;
}

.main-container {
  padding: 10px;
}

.over-left {
  width: 74%;
  float: left;
}

.left-agency,
.left-data,
.left-function,
.left-store {
  width: 100%;
  background-color: #fff;
  border-radius: 2px;
  padding: 20px 20px;
}

.left-agency {
  height: 180px;
}

.left-title {
  font-size: 16px;
  color: #333;
  font-weight: 600;
  margin-bottom: 20px;
  position: relative;
}

.custom_title {
  float: none;
  margin-left: 20px;

  color: #5a8bff;
  font-weight: 400;
  font-size: 14px;
  line-height: 21px;
  cursor: pointer;
}

.one_piece {
  float: right;
  font-size: 14px;
  color: #333;
  font-weight: normal;
}

.one_piece a {
  border: 1px solid #5a8bff;
  color: #5a8bff;
  padding: 5px 10px;
  border-radius: 2px;
  margin-left: 10px;
}

.left-order-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.new_order {
  text-align: center;
  width: 18%;
}

a {
  color: #333;
  text-decoration: none;
}

.left-order-content > .new_order:nth-child(1) > a .order_top {
  background-color: #dfecff;
  color: #5a8bff;
}

.left-order-content > .new_order:nth-child(2) > a .order_top {
  background-color: #ffdee4;
  color: #fc6181;
}

.left-order-content > .new_order:nth-child(3) > a .order_top {
  background-color: #fff0c4;
  color: #fdb64a;
}

.left-order-content > .new_order:nth-child(4) > a .order_top {
  background-color: #dfecff;
  color: #5a8bff;
}

.left-order-content > .new_order:nth-child(5) > a .order_top {
  background-color: #ffdee4;
  color: #fc6181;
}

.order_top {
  line-height: 56px;
  border-radius: 6px;
  font-size: 30px;
}

.new_order > a > p {
  margin-top: 12px;
  color: #666666;
}

.left-data {
  height: 230px;
  margin-top: 10px;
}

.left-data-content {
  display: flex;
  justify-content: flex-start;
}

.left-datas {
  width: 50%;
  height: 145px;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  flex-wrap: wrap;
}

.single-data {
  width: 30%;
  height: 60px;
  margin-right: 10px;
}

.single-data h4 {
  font-size: 12px;
  color: #666;
  margin-bottom: 5px;
}

.single-data h3 {
  font-size: 24px;
  color: #5a8bff;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.right-datas {
  width: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.data-img {
  margin-bottom: 10px;
  position: relative;
  background: url(http://mpdev.weipubao.cn/image/admin/new_ov/apply_order.png)
    no-repeat;
  width: 206px;
  height: 126px;
  margin-right: 30px;
}

.clearfix {
  zoom: 1;
}

.fw-app {
  position: absolute;
  left: -110px;
  top: 50px;
}

.data-title {
  font-size: 12px;
  color: #666;
  margin-bottom: 3px;
}

.data-text {
  font-size: 12px;
  color: #f96a6b;
  text-align: center;
}

.fw-xd {
  position: absolute;
  right: -100px;
  top: 20px;
}

.xd-app {
  position: absolute;
  bottom: 25px;
  right: -90px;
}

.left-function {
  margin-top: 10px;
}

.function-content {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
  width: 90%;
  margin-bottom: -20px;
}

.single-func {
  width: 25%;
  margin-bottom: 20px;
  cursor: pointer;
}

img {
  vertical-align: middle;
}

.single-func span {
  padding-left: 8px;
}

.left-store {
  margin-top: 10px;
}

.task_left {
  width: 195px;
  height: 257px;
  float: left;
}

.progress_content {
  width: 140px;
  height: 140px;
  margin: auto;
  position: relative;
  margin-top: 50px;
}

.progress_wrapper {
  width: 100%;
  height: 100%;
  border-radius: 140px;
  border-width: 19px;
  border-color: #5a8bff;
  border-style: solid;
  box-sizing: border-box;
}

svg:not(:root) {
  overflow: hidden;
}

.progress-inner {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.progress-inner circle {
  stroke-linecap: butt;
  fill: none;
  transition: stroke-dashoffset 0.4s cubic-bezier(0.08, 0.82, 0.17, 1) 0s;
  transform: rotate(-90deg);
  transform-origin: center center;
}

.progress-info {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  text-align: center;
  line-height: 140px;
}

.progress-info > .status-text {
  display: flex;
  height: 100%;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  line-height: 14px;
}

.progress-info > .status-text > p {
  font-size: 14px;
  color: #999;
}

.progress-info > .status-text > p > .status-text_count {
  font-size: 30px;
  color: #ff4444;
}

.task_right {
  height: 257px;
  margin-left: 200px;
}

.task_type {
  border-bottom: 1px solid #e5e5e5;
  line-height: 39px;
  height: 41px;
}

.type_ul {
  float: left;
}

.type_ul li {
  float: left;
  width: 70px;
  text-align: center;
  cursor: pointer;
  position: relative;
  list-style: none;
}

.type_ul li.active {
  border-bottom: 2px solid #5a8bff;
}

.task_right a:link,
.task_right a:visited,
.task_right a:hover,
.task_right a:active {
  color: #5a8bff;
  margin-left: 30px;
}

.task_list_content {
  height: 100%;
  max-height: 215px;
  overflow-y: auto;
  padding-right: 10px;
}

.task_list_content .task_list {
  padding-bottom: 12px;
}

.task_list_content .task_list:first-child {
  border-top: 0;
}

.task_list .task_list_item {
  margin-top: 12px;
  line-height: 18px;
  display: flex;
  align-items: center;
}

.tips.ff4444 {
  color: #ff4444;
  border-color: #ff4444;
}

.task_list_item .task_list_desc {
  flex: 1;
  margin-left: 4px;
}

.task_right a:link,
.task_right a:visited,
.task_right a:hover,
.task_right a:active {
  color: #5a8bff;
  margin-left: 30px;
}

.task_test_btn {
  display: block;
  width: 100px;
  line-height: 30px;
  margin: 20px auto 0;
  border: 1px solid #5a8bff;
  background-color: #fff;
  color: #5a8bff;
  border-radius: 4px;
}

.over-right {
  width: 25%;
  float: left;
  margin-left: 10px;
}

.right-notice {
  width: 100%;
  height: 250px;
  background-color: #fff;
  margin-bottom: 10px;
  padding: 10px 15px;
}

.right-title {
  font-size: 16px;
  color: #333;
  font-weight: 600;
  margin-bottom: 17px;
}

.gengduo {
  font-size: 12px;
  color: #666;
  display: inline-block;
  float: right;
  font-weight: 400;
}

.one-zx {
  width: 100%;
  height: 85%;
  overflow: hidden;
}

.single-zx {
  width: 100%;
  height: 32px;
  border-bottom: 1px solid #eee;
  font-size: 12px;
  color: #666;
  line-height: 32px;
  display: flex;
  align-items: center;
  justify-content: space-around;
}

.single-zx span {
  display: inline-block;
}

.circle {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background-color: #666;
}

.zx-text {
  padding-left: 0px;
  cursor: pointer;
  width: 66%;
  display: inline-block;
  height: 32px;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

.zx-time {
  width: 13%;
  float: right;
  line-height: 32px;
  height: 32px;
}

.right-calendar {
  background-color: #fff;
  width: 100%;
  padding: 18px;
  margin-bottom: 10px;
}

.right-calendar > .right-title > a {
  float: right;
}

.calendar_line {
  height: 2px;
  background-color: #f66;
  display: flex;
  justify-content: space-evenly;
  margin-bottom: 20px;
}

.flex_calendar_box {
  display: flex;
}

.flex_calendar_box > a {
  flex: 1;
  background-color: #fff;
  border-radius: 6px;
  border: 1px solid #eee;
  text-align: center;
  padding-bottom: 10px;
  position: relative;
  min-width: 0;
}

.flex_calendar_box > a > .data {
  line-height: 24px;
  background-color: #f66;
  border-top-left-radius: 6px;
  border-top-right-radius: 6px;
  margin: -1px -1px 0 -1px;
  color: #fff;
}

.flex_calendar_box > a > p {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.flex_calendar_box > a > .act_name {
  line-height: 30px;
  color: #333;
}

.flex_calendar_box > a > .remaining_time {
  line-height: 24px;
  color: #333;
}

.flex_calendar_box > a > .dot {
  width: 12px;
  height: 12px;
  position: absolute;
  background-color: #ff6666;
  border: 3px solid rgba(255, 210, 210, 0.8);
  border-radius: 50%;
  left: 50%;
  top: -28.5px;
  transform: translate(-50%);
}

.right-carousel {
  width: 100%;
  height: 200px;
  background-color: #fff;
  margin-bottom: 10px;
}

.right-serve {
  width: 100%;
  height: 270px;
  background-color: #fff;
  margin-bottom: 10px;
  padding: 10px 15px;
}

.two-zx {
  width: 100%;
  height: 85%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  margin-top: 20px;
}

.single-icon {
  width: 33.33%;
  height: 100px;
  cursor: pointer;
}

.single-icon {
  width: 33.33%;
  height: 100px;
  cursor: pointer;
}

.icon-img {
  margin-bottom: 10px;
  text-align: center;
}

.icon-name {
  font-size: 12px;
  color: #333;
  text-align: center;
}

// .one_piece {
//   margin: 0;
//   padding: 0;
//   float: right;
//   font-size: 14px;
//   color: #333;
//   background-color: #fff;
//   font-weight: normal;
// }
// /deep/ .btn_follow {
//   border: 1px solid #5a8bff;
//   color: #5a8bff;
//   padding: 5px 10px;
//   border-radius: 2px;
//   margin-left: 10px;
// }
// .off-area {
//   display: flex;
//   flex-direction: column;
//   align-items: center;
//   justify-content: center;
//   color: #666;
// }
</style>
