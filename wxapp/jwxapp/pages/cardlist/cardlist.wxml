<view class="body">
  <include src="../common/header.wxml" />
  <view class="main-container" wx:if="{{dataList}}">
    <block wx:if="{{dataList[0].length}}" wx:for="{{dataList}}" wx:for-item="pageItem" wx:key="pageIndex" wx:for-index="pageIndex">
      <block wx:for="{{pageItem}}" wx:key="cardNo" wx:for-index="itemIndex">
        <view class="card_item_container" data-data_idx="{{pageIndex}}" data-item_idx="{{itemIndex}}" bindtap="checkDetail" style="transform:translateX(-{{item.x}}px);transition:all .1s ease-out;" bindtouchstart="handleTouchStart" bindtouchmove="handleTouchMove" bindtouchend="handleTouchEnd">
          <view class="card_list_item" style="{{item.cardBgStyle}}">
            <view class="card_type">{{item.cardTypeName}}</view>
            <view class="card_item_info">
              <image mode="widthFix" class="shop_img" src="{{item.avatar}}"></image>
              <view class="info_item">
                <view class="item_row card_name">{{item.cardName}}</view>
                <view class="item_row" wx:if="{{item.cardType !== 1 && item.discount}}">折扣：{{item.discount}}折</view>
                <!-- <block wx:if="{{item.buyScore.offset === 1}}">
                  <view class="item_row">每满{{perGoodsMoney}}送{{perGetScores}}积分</view>
                </block>
                <block wx:elif="{{item.buyScore.offset === 0}}">
                  <block wx:for="{{item.buyScore.goodsMoney}}" wx:for-item="scoreItem" wx:for-index="scoreIndex" :key="scoreIndex">
                    <view class="item_row">满{{scoreItem}}送{{item.buyScore.getScores[scoreIndex]}}积分</view>
                  </block>
                </block> -->
                <view class="item_row">卡号：{{item.cardNo}}</view>
                <block wx:if="{{item.cardType === 1}}">
                  <view class="item_row" wx:if="{{item.exchangSurplus}}">剩余可兑换商品数量：{{item.exchangSurplus}}</view>
                  <view class="item_row" wx:if="{{item.surplus}}">剩余可使用服务次数：{{item.surplus}}</view>
                </block>
              </view>
            </view>
            <view class="card_status" wx:if="{{item.cardStopImg}}">
              <image mode="widthFix" src="{{item.cardStopImg}}"></image>
            </view>
            <view class="card_exp" wx:if="{{item.cardType !== 2}}">{{item.cardExpireTime}}</view>
          </view>
          <view class="card_del" data-card_no="">
            删除
          </view>
        </view>
      </block>
    </block>
    <block wx:if="{{!dataList[0].length}}">
      <view class="no_card">
        <image src="{{imageUrl}}image/wxapp/no_vip.png"></image>
        <text>您暂时还没有会员卡哦</text>
      </view>
    </block>
  </view>
  <include src="../common/footer.wxml" />
</view>
