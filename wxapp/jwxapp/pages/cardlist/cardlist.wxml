<view class="body">
  <include src="../common/header.wxml" />
  <view class="main-container">
    <block wx:for="{{dataList}}" wx:for-item="pageItem" wx:key="{{pageIndex}}" wx:for-index="pageIndex">
      <block wx:for="{{pageItem}}" wx:key="{{item.cardNo}}" wx:for-index="itemIndex">
        <view class="card_item_container" data-data_idx="{{pageIndex}}" data-item_idx="{{itemIndex}}" style="transform:translateX(-{{item.x}}px);transition:all .1s ease-out;" bindtouchstart="handleTouchStart" bindtouchmove="handleTouchMove" bindtouchend="handleTouchEnd">
          <view class="card_list_item" style="{{item.cardBgStyle}}">
            <view class="card_type">{{item.cardTypeName}}</view>
            <view class="card_item_info">
              <image mode="widthFix" class="shop_img" src="{{imageUrl}}{{item.avatar}}"></image>
              <view class="info_item">
                <view class="item_row card_name">{{item.cardName}}</view>
                <view class="item_row" wx:if="{{item.cardType !== 1 && item.discount}}">折扣：{{item.discount}}折</view>
                <view class="item_row">满100送100积分</view>
                <view class="item_row">卡号：{{item.cardNo}}</view>
                <block wx:if="{{item.cardType === 1}}">
                  <view class="item_row" wx:if="{{item.exchangSurplus}}">剩余可兑换商品数量：{{item.exchangSurplus}}</view>
                  <view class="item_row" wx:if="{{item.surplus}}">剩余可使用服务次数：{{item.surplus}}</view>
                </block>
              </view>
            </view>
            <view class="card_status" wx:if="{{item.cardStopImg}}">
              <image mode="widthFix" src="{{item.cardStopImg}}"></image>
            </view>
            <view class="card_exp" wx:if="{{item.cardType !== 2}}">{{item.endTime}}</view>
          </view>
          <view class="card_del" data-card_no="">
            删除
          </view>
        </view>
      </block>
    </block>
  </view>
  <include src="../common/footer.wxml" />
</view>
